(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{6751:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/catalog",function(){return s(4119)}])},9281:function(e,a,s){"use strict";var t=s(5893),l=s(1538),r=s(8778);a.Z=e=>{let{label:a,handleCliclk:s}=e;return(0,t.jsx)(r.z,{className:"bg-sky-600 w-full h-14",onClick:s,children:(0,t.jsx)(l._,{className:"font-semibold",children:a})})}},638:function(e,a,s){"use strict";s.d(a,{Z:function(){return g}});var t=s(5893),l=s(7294),r=s(2854),i=s(2469),n=s(4777);let d=r.fC,o=r.xz,c=r.h_;r.x8;let m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=r.aV.displayName;let u=l.forwardRef((e,a)=>{let{className:s,children:l,...d}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(r.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[l,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.Pxu,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let x=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});x.displayName=r.Dx.displayName;let h=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})});h.displayName=r.dk.displayName;var g=e=>{let{isOpen:a,onClose:s,title:l,description:r,children:i}=e;return(0,t.jsxs)(d,{open:a,onOpenChange:s,children:[(0,t.jsx)(o,{asChild:!0,children:"T\xedtulo"}),(0,t.jsxs)(u,{className:"bg-white",children:[(0,t.jsx)(x,{children:l}),r&&(0,t.jsx)(h,{children:r}),(0,t.jsx)("div",{className:"modal-content",children:i})]})]})}},4119:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return E}});var t=s(5893),l=s(7294),r=s(2961),i=s(9318),n=s(2545),d=s(9281),o=s(4094),c=s(7060),m=s(8778),u=s(5076),x=s(6826),h=s(4777);let g=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,h.cn)("w-full caption-bottom text-sm",s),...l})})});g.displayName="Table";let p=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("thead",{ref:a,className:(0,h.cn)("[&_tr]:border-b",s),...l})});p.displayName="TableHeader";let f=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,h.cn)("[&_tr:last-child]:border-0",s),...l})});f.displayName="TableBody",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,h.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})}).displayName="TableFooter";let j=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("tr",{ref:a,className:(0,h.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});j.displayName="TableRow";let b=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("th",{ref:a,className:(0,h.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...l})});b.displayName="TableHead";let N=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("td",{ref:a,className:(0,h.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...l})});N.displayName="TableCell",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("caption",{ref:a,className:(0,h.cn)("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption";var v=s(7363),y=s(587),w=s(7213),C=s(7536),S=s(1604),k=s(6312);let R=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("textarea",{className:(0,h.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});R.displayName="Textarea";var z=s(8860),V=s(1011),P=e=>{let{onFileChange:a}=e,s=(0,l.useRef)(null);return(0,t.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,t.jsxs)("div",{onClick:()=>{s.current&&s.current.click()},className:"cursor-pointer p-6 w-full h-48 border-2 border-dashed border-gray-200 rounded-md flex flex-col justify-center items-center hover:border-gray-300 transition-colors",children:[(0,t.jsx)(V.Z,{className:"h-8 w-8 text-gray-500"}),(0,t.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Fa\xe7a upload da imagem do produto"})]}),(0,t.jsx)("input",{id:"picture",ref:s,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;a((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)}})]})};let _=S.z.object({name:S.z.string().min(1,"Nome \xe9 obrigat\xf3rio"),category:S.z.string().min(1,"Categoria \xe9 obrigat\xf3ria"),price:S.z.number().min(0,"Pre\xe7o deve ser um n\xfamero positivo"),description:S.z.string().min(1,"Descri\xe7\xe3o \xe9 obrigat\xf3ria"),img:S.z.instanceof(File).optional()});var T=e=>{let{onClose:a,product:s}=e,[r,i]=(0,l.useState)(null),{updateProduct:n}=(0,x.o)(),{register:d,handleSubmit:o,formState:{errors:c},setValue:u}=(0,C.cI)({resolver:(0,k.F)(_),defaultValues:{name:(null==s?void 0:s.name)||"",category:(null==s?void 0:s.category)||"",price:(null==s?void 0:s.price)||0,description:(null==s?void 0:s.description)||""}}),h=async e=>{let t={...e,img:"/images/".concat((null==s?void 0:s.category)||"logo",".png"),id:s.id};n(s.id,t),a()};return(0,t.jsxs)("form",{onSubmit:o(h),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(z.I,{id:"name",defaultValue:null==s?void 0:s.name,...d("name"),placeholder:"Digite o nome do produto",className:c.name?"border-red-500":"h-14"}),c.name&&(0,t.jsx)("span",{className:"text-red-500",children:c.name.message})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(z.I,{id:"category",type:"text",defaultValue:null==s?void 0:s.category,...d("category"),placeholder:"Categoria",className:c.category?"border-red-500 h-14":"h-14"}),c.category&&(0,t.jsx)("span",{className:"text-red-500",children:c.category.message}),(0,t.jsx)(z.I,{id:"price",type:"number",defaultValue:null==s?void 0:s.price,...d("price",{valueAsNumber:!0}),placeholder:"Digite o pre\xe7o do produto",className:c.price?"border-red-500 h-14":"h-14"}),c.price&&(0,t.jsx)("span",{className:"text-red-500",children:c.price.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(R,{id:"description",defaultValue:null==s?void 0:s.description,...d("description"),placeholder:"Digite a descri\xe7\xe3o do produto",className:c.description?"border-red-500":"h-32"}),c.description&&(0,t.jsx)("span",{className:"text-red-500",children:c.description.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(P,{onFileChange:e=>{i(e)}}),r&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("p",{children:r.name})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(m.z,{onClick:a,className:"bg-gray-500 font-semibold",children:"Fechar"}),(0,t.jsx)(m.z,{type:"submit",className:"bg-sky-700 font-semibold",children:"Salvar Altera\xe7\xf5es"})]})]})},Z=s(638),D=e=>{var a;let{data:s}=e,[r,i]=(0,l.useState)(!1),[n,d]=l.useState({id:0,name:"",category:"",price:0,img:"",description:""}),[h,C]=l.useState([]),[S,k]=l.useState([]),[R,z]=l.useState({}),[V,P]=l.useState({}),{products:_,removeProduct:D}=(0,x.o)(),F=[{id:"id",header:e=>{let{table:a}=e;return(0,t.jsx)(u.X,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>a.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:a}=e;return(0,t.jsx)(u.X,{checked:a.getIsSelected(),onCheckedChange:e=>a.toggleSelected(!!e),"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"img",header:()=>(0,t.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Imagem"}),cell:e=>{let{row:a}=e;return(0,t.jsx)("img",{src:a.getValue("img"),alt:a.getValue("name"),className:"w-16 h-16 object-cover"})}},{accessorKey:"name",header:()=>(0,t.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Nome"}),cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{children:a.getValue("name")})}},{accessorKey:"category",header:()=>(0,t.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Categoria"}),cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{children:a.getValue("category")})}},{accessorKey:"price",header:()=>(0,t.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Pre\xe7o"}),cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{children:(0,w.Z)(a.getValue("price"))})}},{id:"delete",header:()=>(0,t.jsx)(v.Z,{className:"w-8 h-8 text-sky-600"}),cell:e=>{let{row:a}=e;return(0,t.jsx)(v.Z,{className:"w-8 h-8 text-sky-600 cursor-pointer",onClick:()=>M(a.original)})}},{id:"delete",header:()=>(0,t.jsx)(y.Z,{className:"w-8 h-8 text-red-600"}),cell:e=>{let{row:a}=e;return(0,t.jsx)(y.Z,{className:"w-8 h-8 text-red-600 cursor-pointer",onClick:()=>D(a.original.id)})}}],I=(0,o.b7)({data:s,columns:F,onSortingChange:C,onColumnFiltersChange:k,getCoreRowModel:(0,c.sC)(),getPaginationRowModel:(0,c.G_)(),getSortedRowModel:(0,c.tj)(),getFilteredRowModel:(0,c.vL)(),onColumnVisibilityChange:z,onRowSelectionChange:P,state:{sorting:h,columnFilters:S,columnVisibility:R,rowSelection:V}});async function M(e){d(e),i(!0)}return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(g,{children:[(0,t.jsx)(p,{children:I.getHeaderGroups().map(e=>(0,t.jsx)(j,{children:e.headers.map(e=>(0,t.jsx)(b,{children:e.isPlaceholder?null:(0,o.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(f,{children:(null===(a=I.getRowModel().rows)||void 0===a?void 0:a.length)?I.getRowModel().rows.map(e=>(0,t.jsx)(j,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,t.jsx)(N,{children:(0,o.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(j,{children:(0,t.jsx)(N,{colSpan:F.length,className:"h-24 text-center",children:"Sem produtos."})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,t.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[I.getFilteredSelectedRowModel().rows.length," of ",I.getFilteredRowModel().rows.length," row(s) selected."]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I.previousPage(),disabled:!I.getCanPreviousPage(),children:"Previous"}),(0,t.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I.nextPage(),disabled:!I.getCanNextPage(),children:"Next"})]})]}),(0,t.jsx)(Z.Z,{isOpen:r,onClose:()=>i(!1),title:"Edtar o produto",description:"",children:(0,t.jsx)(T,{onClose:()=>i(!1),product:{...n,img:n.img||""}})})]})};let F=()=>Math.floor(1e6*Math.random());var I=s(4350);let M=S.z.object({name:S.z.string().min(1,"Nome \xe9 obrigat\xf3rio"),category:S.z.string().min(1,"Categoria \xe9 obrigat\xf3ria"),price:S.z.number().min(0,"Pre\xe7o deve ser um n\xfamero positivo"),description:S.z.string().min(1,"Descri\xe7\xe3o \xe9 obrigat\xf3ria")});var A=e=>{let{onClose:a}=e,[s,r]=(0,l.useState)(null),{addProduct:i}=(0,x.o)(),{register:n,handleSubmit:d,formState:{errors:o},setValue:c}=(0,C.cI)({resolver:(0,k.F)(M)}),u=async e=>{i({id:F(),img:s?URL.createObjectURL(s):"",...e}),a()};return(0,t.jsxs)("form",{onSubmit:d(u),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(z.I,{id:"name",...n("name"),placeholder:"Digite o nome do produto",className:o.name?"border-red-500":"h-14"}),o.name&&(0,t.jsx)("span",{className:"text-red-500",children:o.name.message})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(I.Ph,{onValueChange:e=>c("category",e),children:[(0,t.jsx)(I.i4,{className:o.category?"border-red-500":"h-14",children:(0,t.jsx)(I.ki,{placeholder:"Selecione uma categoria"})}),(0,t.jsx)(I.Bw,{children:(0,t.jsxs)(I.DI,{children:[(0,t.jsx)(I.n5,{children:"Categoria"}),(0,t.jsx)(I.Ql,{value:"teclado",children:"Teclado"}),(0,t.jsx)(I.Ql,{value:"headset",children:"Headset"}),(0,t.jsx)(I.Ql,{value:"placa",children:"placa de V\xeddeo"})]})})]}),o.category&&(0,t.jsx)("span",{className:"text-red-500",children:o.category.message}),(0,t.jsx)(z.I,{id:"price",type:"number",...n("price",{valueAsNumber:!0}),placeholder:"Digite o pre\xe7o do produto",className:o.price?"border-red-500 h-14":"h-14"}),o.price&&(0,t.jsx)("span",{className:"text-red-500",children:o.price.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(R,{id:"description",...n("description"),placeholder:"Digite a descri\xe7\xe3o do produto",className:o.description?"border-red-500":"h-32"}),o.description&&(0,t.jsx)("span",{className:"text-red-500",children:o.description.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(P,{onFileChange:e=>{r(e)}}),s&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("p",{className:"text-green-700",children:"Arquivo enviado!"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(m.z,{onClick:a,className:"bg-gray-500 font-semibold",children:"Fechar"}),(0,t.jsx)(m.z,{type:"submit",className:"bg-sky-700 font-semibold",children:"Salvar Produto"})]})]})},E=function(){let[e,a]=(0,l.useState)("recentes"),[s,o]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),{products:u,addProduct:h,updateProduct:g,removeProduct:p}=(0,x.o)(),f=()=>m(!1);return(0,t.jsx)(r.Z,{children:(0,t.jsxs)("div",{className:"flex-col w-full h-full justify-center items-center",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-3 items-start w-full",children:[(0,t.jsx)("div",{className:"flex items-center justify-start w-2/3 gap-3",children:(0,t.jsxs)("div",{className:"flex gap-3 w-2/3",children:[(0,t.jsx)(n.Z,{placeholder:"Buscar itens...",value:s,onChange:e=>o(e),onClear:()=>o("")}),(0,t.jsx)("div",{className:"w-1/3",children:(0,t.jsx)(i.Z,{options:[{label:"Mais recentes",value:"recentes"},{label:"Menor pre\xe7o",value:"menor"},{label:"Maior pre\xe7o",value:"maior"}],placeholder:"Select Theme",selectedValue:e,onValueChange:e=>a(e)})})]})}),(0,t.jsx)("div",{className:"flex items-center w-96",children:(0,t.jsx)(d.Z,{label:"Cadastrar",handleCliclk:()=>m(!0)})})]}),(0,t.jsx)("div",{className:"flex-col",children:(0,t.jsx)(D,{data:u})}),(0,t.jsx)(Z.Z,{isOpen:c,onClose:f,title:"Cadastrar produto",description:"",children:(0,t.jsx)(A,{onClose:f})})]})})}}},function(e){e.O(0,[409,945,332,397,59,20,888,774,179],function(){return e(e.s=6751)}),_N_E=e.O()}]);